"use strict";(self["webpackChunkLunaDocs"]=self["webpackChunkLunaDocs"]||[]).push([[594],{6555:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});n(4114);var o=n(6768),l=n(144),u=n(4232),a=n(7622),s=n(2151),c=n(7729),r=n(9140),i=n(1387),d=n(9445);const p={class:"header-details text-left"},v={class:"text-primary m-0"},k={class:"people-editing-currently flex py-1"},m=(0,o.Lk)("h5",{class:"text-primary m-0"},"Peps currently editing:",-1),g={class:"font-semibold"},h={key:0};var f=(0,o.pM)({__name:"DocumentView",setup(e){const t=(0,a.q)(),n=((0,s.d)(),(0,l.KR)("")),f=(0,l.KR)(""),b=(0,l.KR)(""),C=(0,i.rd)(),x=(0,l.KR)([]),y=new WebSocket("ws://localhost:8000/ws");(0,o.sV)((()=>{x.value.push("Me"),n.value=t.documentId.toString(),f.value=t.documentName.toString(),b.value=t.documentContent.toString()})),(0,o.hi)((()=>{y.close()})),y.onopen=function(){console.log("Connected")},y.onmessage=function(e){console.log("Received:",e.data);const t=JSON.parse(e.data);b.value=t.documentContent},y.onerror=function(e){console.error("WebSocket error:",e)};const R=e=>{console.log(n.value);const t={documentId:n.value,documentContent:e.textValue};y.send(JSON.stringify(t))};return(e,t)=>{const n=(0,o.g2)("ButtonGroup"),a=(0,o.g2)("Toast");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)((0,l.R1)(c.A),null,{start:(0,o.k6)((()=>[(0,o.Lk)("div",p,[(0,o.Lk)("h1",v,(0,u.v_)(f.value),1)])])),center:(0,o.k6)((()=>[(0,o.bF)(n,null,{default:(0,o.k6)((()=>[(0,o.bF)((0,l.R1)(r.A),{label:"Go back",icon:"pi pi-sign-out",onClick:t[0]||(t[0]=e=>(0,l.R1)(C).back())})])),_:1})])),end:(0,o.k6)((()=>[(0,o.Lk)("div",k,[m,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(x.value,(e=>((0,o.uX)(),(0,o.CE)("p",{class:"text-sm text-color font-light m-0 px-1",key:e},[(0,o.Lk)("span",g,[(0,o.eW)((0,u.v_)(e)+" ",1),x.value.length>1&&e!==x.value[x.value.length-1]?((0,o.uX)(),(0,o.CE)("span",h,",")):(0,o.Q3)("",!0)])])))),128))])])),_:1}),(0,o.bF)((0,l.R1)(d.A),{modelValue:b.value,"onUpdate:modelValue":t[1]||(t[1]=e=>b.value=e),editorStyle:"height: 83vh",class:"pt-3",onTextChange:R},null,8,["modelValue"]),(0,o.bF)(a)],64)}}});const b=f;var C=b}}]);
//# sourceMappingURL=about.daa5b59f.js.map